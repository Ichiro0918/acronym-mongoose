{"version":3,"sources":["../../src/tests/acronym.test.ts"],"sourcesContent":["import request from 'supertest';\nimport App from '@/app';\nimport { CreateDataDto } from '@dtos/users.dto';\nimport acronymModel from '@models/acronym.model';\nimport AcronymRoute from '@routes/acronym.route';\n\nafterAll(async () => {\n  await new Promise<void>(resolve => setTimeout(() => resolve(), 500));\n});\n\ndescribe('[GET] /acronym/:acronym', () => {\n  it('response statusCode 200 / findOne', () => {\n    const userId = 1;\n    const findUser: any = acronymModel.find(user => user.id === userId);\n    const acronymRoute = new AcronymRoute();\n    const app = new App([acronymRoute]);\n\n    return request(app.getServer()).get(`${acronymRoute.path}/${userId}`).expect(200, { data: findUser, message: 'find' });\n  });\n});\n\ndescribe('[POST] /acronym', () => {\n  it('response statusCode 201 / created', async () => {\n    const userData: CreateDataDto = {\n      acronym: 'IOT',\n      definition: 'Internet Of Thing',\n    };\n    const acronymRoute = new AcronymRoute();\n    const app = new App([acronymRoute]);\n\n    return request(app.getServer()).post(`${acronymRoute.path}`).send(userData).expect(201);\n  });\n});\n\ndescribe('[PUT] /acronym/:acronym', () => {\n  it('response statusCode 200 / updated', async () => {\n    const userId = 1;\n    const userData: CreateDataDto = {\n      acronym: 'ZZZZ',\n      definition: 'test',\n    };\n    const acronymRoute = new AcronymRoute();\n    const app = new App([acronymRoute]);\n\n    return request(app.getServer()).put(`${acronymRoute.path}/${userId}`).send(userData).expect(200);\n  });\n});\n\ndescribe('[DELETE] /acronym/:acronym', () => {\n  it('response statusCode 200 / deleted', () => {\n    const userId = 1;\n    const deleteUser: any[] = acronymModel.filter(user => user.id !== userId);\n    const acronymRoute = new AcronymRoute();\n    const app = new App([acronymRoute]);\n\n    return request(app.getServer()).delete(`${acronymRoute.path}/${userId}`).expect(200, { data: deleteUser, message: 'deleted' });\n  });\n});\n"],"names":["afterAll","Promise","resolve","setTimeout","describe","it","userId","findUser","acronymModel","find","user","id","acronymRoute","AcronymRoute","app","App","request","getServer","get","path","expect","data","message","userData","acronym","definition","post","send","put","deleteUser","filter","delete"],"mappings":"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"}